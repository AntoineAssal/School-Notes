# Paging
- Paging is a memory-management scheme that permits the physical address space of a process to be non-contiguous.
- Paging avoids the problem of fitting process into memory chunks of various sizes. Most techniques we saw so far suffer from that problem.
  
## Basic Method of Paging
- Break physical memory into fixed-size blocks called frames.
- Break the logical memory (memory of the process) into blocks of the same size called pages.
- When a process is to be executed, its pages are loaded into any available memory frame.

<p align="center">
	<img src="https://i.imgur.com/BKqjktj.jpg" width = "550" alt="Paging">
</p>

- P3 and P4 terminated leaving behind 8 chunks of memory.
- P5 arrives and needs 8 chunks of memory. 
- Usually we wouldn't be able to load it, but since paging allows us to put it in non-contiguous blocks we can load P5.
- Now the question is how will the CPU know which page is located in which frame to load it?
## Page Tables
- Every address generated by the CPU is divided into two parts.
  1. A page nuber `p` - Index of the page table
  2. A page offset `d`- Displacement within the page
- The page table contains the base address of each page in physical memory.
- This base address is combined with the page offset to define the physical memory address that is sent to the memory unit.

<p align="center">
	<img src="https://i.imgur.com/KjwNy8I.png" width = "550" alt="Page table">
</p>

### Translation of Logical Address to Physical Address using Page Table

<p align="center">
	<img src="https://i.imgur.com/bQ7U0um.jpg" width = "550" alt="Page table">
</p>

- Our page size is 4 bytes.
- Our frame size is 4 bytes.
- Physical memory has 8 frames of size 4 bytes so 32 bytes.
- We can see that logical address 0 maps to physical address 20. 
- How do we get there?
  - ((Frame x Page size) + Offset )= ((5x4) + 0) = 20

## Possible Hardware Implementations of Page Table

- Case 1 : Implement the page table as a set of dedicated registers.
  - This can be used only when page table is reasonably small.
  
- Case 2 : Keep the page table in main memory and a page table base register (PTBR) points to the page table.
  - The time required to access a memory location is increadsed as there are two memory accesses needed to access a byte. (one for the page table entry and one for the byte itself)

- Case 3 : Make use of a [Translation Lookaside Buffer](TLB.md)


